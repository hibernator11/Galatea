<section ng-controller="BooklistUserPaginationController" ng-init="init(10)">

    <div class="page-header">
        <div class="container">
            <h1><i class="fa fa-th-list"></i> Mis listas de obras</h1>
        </div>
    </div>    
    
    <div class="container">

        <div class="row" ng-controller="BooklistsController">
            <ul class="profileNav-list hidden-xs">
                <li class="profileNav-item pull-left">
                    <span class="profileNav-label">Total listas</span>
                    <span class="profileNav-value" data-is-compact="false">{{total}}</span>
                </li>
                <li class="profileNav-item pull-right">
                    <a tooltip="Crear lista" tooltip-placement="top" href="#" ui-sref="booklists.create" class="btn btn-danger"><i class="fa fa-plus"></i> Crear lista</a> 
                </li>
                <li class="profileNav-item pull-right">
                    <a tooltip="Buscar listas" tooltip-placement="top" href="#" ui-sref="booklists.search" class="btn btn-danger"><i class="fa fa-search"></i> Buscar listas</a> 
                </li>
            </ul>
        </div>

        <div class="row visible-xs">
            <div class="col-xs-12" style="text-align:center; margin-bottom:10px;">
                <button type="button" href="#" ui-sref="booklists.create" class="btn btn-danger"><i class="fa fa-plus"></i> Crear lista</button> 
                <a tooltip="Buscar listas" tooltip-placement="top" href="#" ui-sref="booklists.search" class="btn btn-danger"><i class="fa fa-search"></i> Buscar listas</a> 
            </div>
        </div>
      
        <div class="row">
            <div ng-repeat="booklist in pagedItems">
                <section class="widget">
                    <div class="widget-controls">
                       
                    </div>
                    <div class="widget-body">
                        <div class="widget-top-overflow windget-padding-md clearfix bg-grey text-grey">
                            <a href="#" ui-sref="booklists.view({booklistId: booklist._id})">
                                <h3 class="mt-lg mb-lg"><span class="fw-semi-bold">Lista</span> - {{ booklist.title | htmlLimit: 100 }}</h3>
                            </a>
                            <ul class="tags text-grey pull-right">
                                <li><a href="#" ui-sref="booklists.view({booklistId: booklist._id})">detalles</a></li>
                            </ul>
                        </div>
                        <div class="post-user mt-n-lg">
                            <span class="thumb-lg pull-left mr">
                                <!--<img ng-src="{{booklist.user.profileImageURL}}" alt="{{booklist.user.displayName}}" class="img-circle">-->
                            </span>
                            <h5 class="mt-sm fw-normal text-grey"><small class="text-grey text-light"><i class="fa fa-calendar"></i> &nbsp;<span ng-bind="booklist.created | date:'dd/MM/yyyy'"></span></small></h5>
                        </div>
                        <p class="text-light fs-mini m">
                            <span>{{booklist.books.length}} {{booklist.books.length == 1 ? 'Obra' : 'Obras'}} |</span>
                            <span>{{booklist.comments.length}} {{booklist.comments.length == 1 ? 'Comentario' : 'Comentarios'}} |</span>&nbsp;{{booklist.description | htmlLimit:150}}
                        </p>
                    </div>
                </section>
            </div>
        </div>
      
        <pagination ng-show="pagedItems.length > 0" total-items="total" ng-model="currentPage" ng-change="pageChanged()" first-text="Primero" previous-text="Anterior" next-text="Siguiente" last-text="Último" boundary-links="true" max-size="8" items-per-page="itemsPerPage"></pagination>
  
        <div class="alert alert-warning text-center" ng-if="!pagedItems.length">
            No has creado ninguna lista todavía, ¿<a ui-sref="booklists.create">deseas crear una</a>?
        </div>
    </div>

</section>
